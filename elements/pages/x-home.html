<dom-module id="x-home">

    <!-- ----------------------------------------------------------------------------------------------------------- -->
    <!-- CSS -->
    <style>

        x-dashboard, x-bookmarks, x-apps, x-calendar { margin: 0 10px; width: 25%; }

    </style>

    <!-- ----------------------------------------------------------------------------------------------------------- -->
    <!-- HTML -->
    <template>

        <!-- ------------------------------------------- -->
        <!-- Home container -->
        <div class="home horizontal center-justified layout">
            <x-dashboard></x-dashboard>
            <x-bookmarks></x-bookmarks>
            <x-apps></x-apps>
            <x-calendar></x-calendar>
        </div>

    </template>

    <!-- ----------------------------------------------------------------------------------------------------------- -->
    <!-- Javascript -->
    <script>
        Polymer({

            /* ------------------------------------------------------------------------------------------------------ */
            /* Init */

            /**
             * Element initialization and properties definition.
             */
            is: 'x-home',
            properties: {},

            /* ------------------------------------------------------------------------------------------------------ */
            /* Lifecycle callbacks */

            /**
             * Called when element is created.
             */
            created: function () {},

            /**
             * Called when element is ready.
             */
            ready: function () {},

            /**
             * Called when element is attached to DOM.
             */
            attached: function () {
                window.onresize = this.setCardsHeight();
                window.addEventListener('resize', function () {
                    this.setCardsHeight();
                }.bind(this));
            },

            /**
             * Called when element is detached from DOM.
             */
            detached: function () {},

            /* ------------------------------------------------------------------------------------------------------ */
            /* Observers */

            // ...

            /* ------------------------------------------------------------------------------------------------------ */
            /* Event handlers */

            // ...

            /* ------------------------------------------------------------------------------------------------------ */
            /* Helper functions */

            /**
             * Calculates height for div.news paper-material.card div.container(s).
             *
             * @private
             */
            setCardsHeight: function () {
                var viewportHeight = window.innerHeight;
                var toolbarHeight = document.querySelector('paper-toolbar#mainToolbar').offsetHeight;
                var height =
                        viewportHeight
                        - toolbarHeight
                        - 54 // <div.header> (card header) height
                        - 40 // <div#main> top+bottom padding
                        - 40 // <paper-material.card div.content> top+bottom padding
                    ;
                var cards = document.querySelectorAll('div.home paper-material.card div.content');
                for (var i = 0; i < cards.length; i++) {
                    cards[i].style.height = height + 'px';
                }
            }

        });
    </script>

</dom-module>