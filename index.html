<!DOCTYPE html>
    <html lang="en">
    <head>

        <!-- ------------------------------------------- -->
        <!-- Meta tags -->
        <meta charset="utf-8">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>New Tab</title>

        <!-- ------------------------------------------- -->
        <!-- File imports -->
        <script src="./bower_components/webcomponentsjs/webcomponents-lite.js"></script>
        <link rel="stylesheet" href="./styles/main.css">
        <link rel="import" href="./build/elements.html">

    </head>
    <body unresolved class="fullbleed layout vertical">

        <!-- ------------------------------------------- -->
        <!-- Application template -->
        <span id="browser-sync-binding"></span>
        <template is="dom-bind" id="app">

            <!-- ------------------------------------------- -->
            <!-- Overlay that hides app UI before API KEY has been set -->
            <!--<div id="overlay"></div>-->

            <!-- ------------------------------------------- -->
            <!-- App scaffold -->
            <paper-drawer-panel id="panel" drawer-width="300px" force-narrow>

                <!-- ------------------------------------------- -->
                <!-- Drawer -->
                <paper-header-panel mode="seamed" drawer>

                    <!-- Drawer toolbar -->
                    <paper-toolbar class="tall">
                        <div class="bottom fit">
                            Google Chrome
                            <p>Desktop web browser by Google</p>
                        </div>
                    </paper-toolbar>

                    <!-- Drawer content -->
                    <div id="drawer">
                        <paper-menu>
                            <paper-icon-item on-click="openChromeLink" data-link="apps">
                                <iron-icon icon="apps"></iron-icon>Apps
                            </paper-icon-item>
                            <paper-icon-item on-click="openChromeLink" data-link="bookmarks">
                                <iron-icon icon="star"></iron-icon>Bookmarks
                            </paper-icon-item>
                            <paper-icon-item on-click="openChromeLink" data-link="downloads">
                                <iron-icon icon="file-download"></iron-icon>Downloads
                            </paper-icon-item>
                            <paper-icon-item on-click="openChromeLink" data-link="history">
                                <iron-icon icon="history"></iron-icon>History
                            </paper-icon-item>
                            <paper-icon-item on-click="openChromeLink" data-link="extensions">
                                <iron-icon icon="extension"></iron-icon>Extensions
                            </paper-icon-item>
                            <paper-icon-item on-click="openWebStore">
                                <iron-icon icon="store"></iron-icon>Web Store
                            </paper-icon-item>
                            <paper-icon-item on-click="openChromeLink" data-link="flags">
                                <iron-icon icon="flag"></iron-icon>Flags
                            </paper-icon-item>
                            <hr>
                            <paper-icon-item on-click="openChromeLink" data-link="settings">Settings</paper-icon-item>
                            <paper-icon-item on-click="openChromeLink" data-link="chrome">About</paper-icon-item>
                        </paper-menu>
                    </div>

                </paper-header-panel>

                <!-- ------------------------------------------- -->
                <!-- Main -->
                <paper-header-panel main>

                    <!-- Main toolbar -->
                    <paper-toolbar id="mainToolbar" style="height: 112px;">

                        <!-- Title row -->
                        <paper-icon-button icon="menu" on-click="openDrawer"></paper-icon-button>
                        <span>Material New Tab Page</span>
                        <span class="flex"></span>
                        <paper-menu-button horizontal-align="right">
                            <paper-icon-button icon="more-vert" class="dropdown-trigger"></paper-icon-button>
                            <paper-dropdown-menu class="dropdown-content">
                                <paper-menu>
                                    <paper-item on-click="openDataSyncDialog">Data synchronization</paper-item>
                                    <paper-item on-click="openAboutDialog">About extension</paper-item>
                                </paper-menu>
                            </paper-dropdown-menu>
                        </paper-menu-button>

                        <!-- Tabs -->
                        <paper-tabs selected="{{PAGE}}" attr-for-selected="data-page" on-iron-select="pageChanged" class="bottom fit" noink>
                            <paper-tab data-page="home">Home</paper-tab>
                            <paper-tab data-page="news">News</paper-tab>
                            <paper-tab data-page="youtube">Youtube</paper-tab>
                        </paper-tabs>

                    </paper-toolbar>

                    <!-- Main content -->
                    <div id="main">

                        <!-- Pages -->
                        <x-pages __page="{{PAGE}}" class="flex"></x-pages>

                    </div>

                </paper-header-panel>

            </paper-drawer-panel>

            <!-- ------------------------------------------- -->
            <!-- Toast object for messages -->
            <paper-toast id="toast"></paper-toast>

            <!-- ------------------------------------------- -->
            <!-- Data sync dialog -->
            <paper-dialog id="dataSyncDialog" entry-animation="scale-up-animation" exit-animation="scale-down-animation" modal>
                <h2>Sync your data across browsers</h2>
                <div>
                    <x-datasync></x-datasync>
                </div>
                <div class="buttons">
                    <paper-button dialog-dismiss>Close</paper-button>
                </div>
            </paper-dialog>

            <!-- ------------------------------------------- -->
            <!-- About dialog -->
            <paper-dialog id="aboutDialog" entry-animation="scale-up-animation" exit-animation="scale-down-animation" modal>
                <h2>Material New Tab Page</h2>
                <div>
                    <p>
                        Free to use Chrome extension that replaces New Tab page. Provides additional utility to the New
                        Tab page. Designed according to Material Design guidelines. Feel free to download, explore,
                        share or modify any and all parts of the source code.
                    </p>
                    <table>
                        <tr>
                            <th>Version:</th>
                            <td>[[VERSION]]</td>
                        </tr>
                        <tr>
                            <th>License:</th>
                            <td><a href="https://creativecommons.org/licenses/by/4.0/legalcode">CC Attribution 4.0 Internation</a></td>
                        </tr>
                        <tr>
                            <th>Author:</th>
                            <td><a href="https://plus.google.com/+MichalSukup%C4%8D%C3%A1k/posts">Michal Sukupčák</a></td>
                        </tr>
                        <tr>
                            <th>Github:</th>
                            <td><a href="https://github.com/michalsukupcak/Material-New-Tab">michalsukupcak/Material-New-Tab</a></td>
                        </tr>
                    </table>
                </div>
                <div class="buttons">
                    <paper-button dialog-dismiss>Close</paper-button>
                </div>
            </paper-dialog>

            <!-- ------------------------------------------- -->
            <!-- Page localstorage -->
            <iron-localstorage name="material-new-tab-PAGE"
                id="pageLocalstorage"
                value="{{PAGE}}"
            ></iron-localstorage>

        </template>

        <!-- ------------------------------------------- -->
        <!-- Libraries -->
        <script src="https://cdn.firebase.com/js/client/2.2.9/firebase.js"></script>

        <!-- ------------------------------------------- -->
        <!-- Application scripts -->
        <script src="./scripts/sha256.js"></script>
        <script src="./scripts/base64.js"></script>
        <script src="./scripts/moment.js"></script>
        <script src="./scripts/functions.js"></script>
        <script src="./scripts/firebase.js"></script>
        <script src="./scripts/app.js"></script>

    </body>
</html>
